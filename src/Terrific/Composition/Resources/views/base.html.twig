{% extends 'TerrificCoreBundle::base.html.twig' %}

{% block title %}Terrific Composer{% endblock %}

{% block css_default %}
    {% stylesheets
        'bundles/terrificcomposition/css/default.less'
        'bundles/terrificcomposition/css/elements.less'
        'bundles/terrificcomposition/css/static/*.*'
        output="css/compiled/default.css"
    %}
        <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock %}

{% block js_default %}
    {% javascripts
      'bundles/terrificcomposition/js/static/libraries/*.*'
      'bundles/terrificcomposition/js/static/plugins/*.*'
      'bundles/terrificcomposition/js/js/static/utils/*.*'
       output='js/compiled/statics.js'
    %}
        <script src="{{ asset_url }}" type="text/javascript"></script>
    {% endjavascripts %}
{% endblock %}

{# set the body class -> e.g. global module #}
{% block body_class %}{% endblock %}

{# content that is the same on every page (ie. logo) goes into composition #}
{% block composition %}

{# your page content goes into body #}
{% block body %}
{% endblock %}
{% endblock %}

{# terrificjs bootstrap #}
{% block bootstrap %}
    <script type="text/javascript">
        (function($) {
            $(document).ready(function() {
                var $page = $('html'),
                    config = {
                        dependencyPath: {
                            library: '{{ app.request.basepath }}/bundles/terrificcomposition/js/dependencies/libraries/',
                            plugin: '{{ app.request.basepath }}/bundles/terrificcomposition/js/dependencies/plugins/',
                            util: '{{ app.request.basepath }}/bundles/terrificcomposition/js/dependencies/utils/'
                        }
                    },
                    application = new Tc.Application($page, config);

                application.registerModules();
                application.start();
            });
        })(Tc.$);
    </script>
{% endblock %}
